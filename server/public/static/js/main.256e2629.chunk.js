(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{64:function(e,t,a){e.exports=a(96)},70:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),o=a(7),s=a(13),i=a(15),u=a(14),m=(a(69),a(70),a(30)),h=a.n(m),p=function e(){var t=this;Object(o.a)(this,e),this.login=function(e){return t.service.post("/login",e)},this.signup=function(e){return t.service.post("/signup",e)},this.logout=function(){return t.service.post("/logout")},this.isLoggedIn=function(){return t.service.get("/loggedin")},this.service=h.a.create({baseURL:"".concat("https://myapp.herokuapp.com/api"),withCredentials:!0})},d=a(8),E=a(40),g=a(29),f=a(11),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logout=function(){n.AuthService.logout().then((function(){n.props.setTheUser(!1),n.props.handleToast(!0,"Usuario desconectado")})).catch((function(e){return console.log(e)}))},n.AuthService=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{bg:"info",variant:"info",expand:"lg",sticky:"top"},r.a.createElement(E.a.Brand,null,r.a.createElement(f.b,{to:"/"},"Espacio_Z")),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"ml-auto"},r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/",exact:!0,activeStyle:{color:"black"}},"Inicio")),r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/courses",activeStyle:{color:"black"}},"Cursos")),r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/conten",activeStyle:{color:"black"}},"Contenido")),this.props.loggedInUser?r.a.createElement(g.a.Link,{as:"span"},r.a.createElement("span",{onClick:this.logout},"Cerrar sesi\xf3n")):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/signup",activeStyle:{color:"black"}},"Registro")),r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/login",activeStyle:{color:"black"}},"Inicio sesi\xf3n"))),r.a.createElement(g.a.Link,{as:"span"},r.a.createElement(f.c,{to:"/profile",activeStyle:{color:"white"}},"Hola, ",this.props.loggedInUser?this.props.loggedInUser.username:"invitado")))))}}]),a}(n.Component),v=a(36),C=a(33),O=a(5),y=a(17),S=a(20),U=a(12),j=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.signup(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Registro completado"),n.props.history.push("/profile")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,{as:"main"},r.a.createElement(S.a,null,r.a.createElement(U.a,{md:{offset:3,span:6}},r.a.createElement("h3",null,"Registro de usuario"),r.a.createElement("hr",null),r.a.createElement(O.a,{onSubmit:this.handleFormSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Nombre de usuario"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Contrase\xf1a"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(O.a.Text,{className:"text-muted"},"M\xednimo tres caracteres.")),r.a.createElement(C.a,{variant:"info",type:"submit"},"Registrarme")))))}}]),a}(n.Component),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.login(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Sesi\xf3n inciada"),n.props.history.push("/profile")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new p,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,{as:"main"},r.a.createElement(S.a,null,r.a.createElement(U.a,{md:{offset:3,span:6}},r.a.createElement("h3",null,"Inicio de sesi\xf3n"),r.a.createElement("hr",null),r.a.createElement(O.a,{onSubmit:this.handleFormSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Nombre de usuario"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Contrase\xf1a"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),r.a.createElement(O.a.Text,{className:"text-muted"},"M\xednimo tres caracteres.")),r.a.createElement(C.a,{variant:"info",type:"submit"},"Iniciar sesi\xf3n")))))}}]),a}(n.Component),k=function e(){var t=this;Object(o.a)(this,e),this.getAllUsers=function(){return t.service.get("/getAllUsers")},this.getOneUser=function(e){return t.service.get("/getOneUser/".concat(e))},this.getOneUserUpdate=function(e){return t.service.get("getOneUserUpdate/".concat(e))},this.service=h.a.create({baseURL:"".concat("http://myapp.herokuapp.com/api"),withCredentials:!0})},w=a(52),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.handleFormSubmit=function(e){e.preventDefault(),n.UserService.createContent(n.state).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},n.handleModalShow=function(){return n.setState({showModal:!0})},n.handleModalClose=function(){return n.setState({showModal:!1})},n.state={username:"",description:"",theater_play:"",author:"",genre:"",role:"",ad_item:"",showModal:!1},n.service=new k,n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{as:"main",className:"profile-page"},r.a.createElement("h1",null,"Bienvenido a tu espacio, ",this.props.loggedInUser.username," "),r.a.createElement(O.a,null,r.a.createElement(O.a.Label,null,"Favoritos"),r.a.createElement(O.a.Control,{as:"select"},r.a.createElement("option",null,"Comedia"),r.a.createElement("option",null,"Tragedia"),r.a.createElement("option",null,"Infantil"),r.a.createElement("option",null,"M\xedmica")),r.a.createElement(O.a.Label,null,"Cursos"),r.a.createElement(O.a.Control,{as:"select"},r.a.createElement("option",null,"Ninguno"),r.a.createElement("option",null,"Interpretaci\xf3n y dramatizaci\xf3n"),r.a.createElement("option",null,"Gestual"),r.a.createElement("option",null,"Maquillaje y caracterizaci\xf3n")),r.a.createElement("hr",null),r.a.createElement(O.a.Group,null,r.a.createElement(C.a,{onClick:this.handleModalShow,variant:"info",size:"sm",style:{marginBottom:"20px"},type:"submit"},"Enviar"))),this.props.loggedInUser&&r.a.createElement(C.a,{onClick:this.handleModalShow,variant:"info",size:"sm",style:{marginBottom:"20px"}}," Crear nuevo item")),r.a.createElement(w.a,{show:this.state.showModal,onHide:this.handleModalClose},r.a.createElement(w.a.Body,null,r.a.createElement(O.a,{onSubmit:this.handleFormSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Obra"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.theater_play,name:"theater_play",type:"text"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Autor"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.author,name:"author",type:"text"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"G\xe9nero"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.genre,name:"genre",type:"text"}),r.a.createElement(O.a.Text,{className:"text-muted"}," Comedia, tragedia, m\xedmica...")),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Breve Descripci\xf3n"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.description,name:"description",type:"text"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"A\xf1adir \xcdtem"),r.a.createElement(O.a.Control,{onChange:this.handleInputChange,value:this.state.ad_item,name:"ad_item",type:"text"}),r.a.createElement(O.a.Text,{className:"text-muted"}," A\xf1ade un video, una foto, una noticia...")),r.a.createElement(C.a,{variant:"dark",type:"submit"},"Enviar")))))}}]),a}(n.Component),L=function(){return r.a.createElement(y.a,{fluid:!0},r.a.createElement(S.a,null,r.a.createElement(U.a,{md:{offset:4,span:8}},r.a.createElement("h1",null,"Espacio _Z")),r.a.createElement("hr",null),r.a.createElement(U.a,{md:{offset:3,span:11}},r.a.createElement("h2",null,"El teatro como encuentro social")),r.a.createElement(U.a,{md:{offset:4,span:8}},r.a.createElement("p",null,"Descubre, comparte, interpreta"))))},x=function e(){var t=this;Object(o.a)(this,e),this.getAllCourses=function(){return t.service.get("/getAllCourses")},this.getOneCourse=function(e){return t.service.get("/getOneCourse/".concat(e))},this.service=h.a.create({baseURL:"".concat("http://myapp.herokuapp.com/api"),withCredentials:!0})},A=a(24),D=function(e){var t=e.title,a=e.description,n=e.imageUrl;return r.a.createElement(U.a,{md:12},r.a.createElement(A.a.Img,{variant:"top",src:n}),r.a.createElement(A.a.Body,null,r.a.createElement(A.a.Title,null,t),r.a.createElement(A.a.Text,null,a),r.a.createElement(f.b,{to:"",variant:"primary"})))},N=(a(94),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.courseService.getAllCourses().then((function(t){return e.setState({courses:t.data})})).catch((function(e){return console.log(e)}))},e.state={courses:[]},e.courseService=new x,e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,{as:"main",className:"courses-page"},r.a.createElement("h1",null,"Listdo de Cursos"),this.state.courses.length?r.a.createElement(S.a,null,this.state.courses.map((function(e){return r.a.createElement(D,Object.assign({key:e._id},e))}))):r.a.createElement("h3",null,"CARGANDO"))}}]),a}(n.Component)),M=function e(){var t=this;Object(o.a)(this,e),this.getAllContents=function(){return t.service.get("/getAllContents")},this.getOneContent=function(e){return t.service.get("/getOneContent/".concat(e))},this.createContent=function(e){return t.service.get("/newContent",e)},this.service=h.a.create({baseURL:"".concat("http://myapp.herokuapp.com/api"),withCredentials:!0})},G=function(e){var t=e._id,a=e.title,n=e.description,l=e.genre;return r.a.createElement(U.a,{md:4},r.a.createElement(A.a,{className:"conten-card"},r.a.createElement(A.a.Body,null,r.a.createElement(A.a.Title,null,a),r.a.createElement(A.a.Subtitle,{className:"mb-2 text-muted"},l),r.a.createElement(A.a.Text,null,n),r.a.createElement(f.b,{to:"/conten/".concat(t),className:"btn btn-info btn-block btn-sm"},"Ver Detalles"),r.a.createElement(f.b,{to:"/conten",className:"btn btn-info btn-block btn-sm"},"Volver "))))},_=(a(95),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.ContentService.getAllContents().then((function(t){return e.setState({content:t.data})})).catch((function(e){return console.log(e)}))},e.state={contents:[]},e.ContentService=new M,e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(y.a,{as:"main",className:"contents-page"},r.a.createElement("h1",null,"Listdo de Contenidos/Eventos"),this.state.conten?r.a.createElement(S.a,null,this.state.conten.map((function(e){return r.a.createElement(G,Object.assign({key:e._id},e))}))):r.a.createElement("h3",null,"CARGANDO"))}}]),a}(n.Component)),R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=e.props.match.params.content_id;e.ContentService.getOneContent(t).then((function(t){return e.setState({contentDetails:t.data})})).catch((function(e){return console.log(e)}))},e.state={contentDetails:void 0},e.ContentService=new M,e}return Object(s.a)(a,[{key:"render",value:function(){return this.state.contentDetails?r.a.createElement(y.a,{as:"main"},r.a.createElement("h1",null,this.state.contentDetails.title),r.a.createElement(S.a,null,r.a.createElement(U.a,{md:{span:6,offset:1}},r.a.createElement("p",null,r.a.createElement("b",null,"Detalles:"),this.state.contentDetails.description),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("b",null,"Imagen:"),this.state.contentDetails.imageUrl),r.a.createElement("p",null,r.a.createElement("b",null,"G\xe9nero:"),this.state.contentDetails.genre),r.a.createElement("hr",null),r.a.createElement(f.b,{className:"btn btn-info btn-md",to:"/conten"},"Volver")),r.a.createElement(U.a,{md:{span:4,offset:1}},r.a.createElement("img",{src:this.state.contentDetails.imageUrl,alt:this.state.contentDetails.title})))):r.a.createElement("h1",null,"CARGANDO")}}]),a}(n.Component),F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t},(function(){return console.log("El estado de App ha cambiado:",e.state)}))},e.fetchUser=function(){e.AuthService.isLoggedIn().then((function(t){return null===e.state.loggedInUser&&e.setState({loggedInUser:t.data})})).catch((function(e){return console.log({err:e})}))},e.state={loggedInUser:null},e.AuthService=new p,e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser,handleToast:this.handleToast}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(){return r.a.createElement(L,null)}}),r.a.createElement(d.b,{path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(T,{loggedInUser:e.state.loggedInUser}):r.a.createElement(d.a,{to:"/signup"})}}),r.a.createElement(d.b,{path:"/signup",render:function(t){return r.a.createElement(j,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),r.a.createElement(d.b,{path:"/login",render:function(t){return r.a.createElement(I,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),r.a.createElement(d.b,{path:"/profile",render:function(){return r.a.createElement(T,{loggedInUser:e.state.loggedInUser})}}),r.a.createElement(d.b,{path:"/courses",render:function(){return r.a.createElement(N,null)}}),r.a.createElement(d.b,{path:"/conten",render:function(){return r.a.createElement(_,null)}}),r.a.createElement(d.b,{path:"/conten/:conten_id",render:function(){return r.a.createElement(R,null)}})))}}]),a}(n.Component);c.a.render(r.a.createElement(f.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null))),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.256e2629.chunk.js.map